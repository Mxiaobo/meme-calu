
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Meme 50-25-25 Calculator</title>
<link rel="manifest" href="manifest.json">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#f7f7fa;
  --card:#ffffff;
  --border:#e4e6eb;
  --text:#1f2328;
  --accent:#2563eb;
}
@media (prefers-color-scheme:dark){
  :root{
    --bg:#0e0f11;
    --card:#1e1f23;
    --border:#2b2d33;
    --text:#e8e9ea;
    --accent:#3b82f6;
  }
}
*{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;}
body{margin:0;background:var(--bg);color:var(--text);display:flex;min-height:100vh;align-items:center;justify-content:center;padding:1rem;}
.card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:1.6rem;max-width:420px;width:100%;box-shadow:0 4px 12px rgba(0,0,0,.15);}
h1{font-size:1.35rem;margin:0 0 1.25rem;font-weight:700;text-align:center;}
label{display:flex;flex-direction:column;font-size:.9rem;margin-top:1.1rem;}
input{margin-top:.4rem;padding:.6rem .8rem;font-size:1rem;border:1px solid var(--border);border-radius:8px;background:transparent;color:var(--text);}
button{margin-top:1.6rem;width:100%;padding:.78rem 1rem;font-size:1rem;font-weight:500;border:none;border-radius:8px;background:var(--accent);color:#fff;cursor:pointer;}
button:hover{filter:brightness(1.05);}
table{width:100%;border-collapse:collapse;margin-top:1.6rem;font-size:.9rem;}
th,td{padding:.55rem;border:1px solid var(--border);}
th{background:rgba(0,0,0,.05);}
tfoot td{font-weight:600;background:rgba(0,0,0,.03);}
.hidden{display:none;}
</style>
</head>
<body>
<main class="card">
<h1>Meme 50-25-25 Calculator</h1>

<label>Current Price (USDT)
  <input type="number" id="price" value="2" step="0.0001" min="0">
</label>

<label>Total Allocation (USDT)
  <input type="number" id="alloc" value="10000" step="1" min="0">
</label>

<button id="go">Calculate</button>

<table id="out" class="hidden">
<thead><tr><th>Stage</th><th>Invest</th><th>Price</th><th>Units</th></tr></thead>
<tbody id="rows"></tbody>
<tfoot>
<tr><td>Total Units</td><td id="tCost"></td><td></td><td id="tUnits"></td></tr>
<tr><td>Avg Cost</td><td colspan="3" id="avg"></td></tr>
<tr><td>Stop (p3Ã—0.8)</td><td colspan="3" id="stop"></td></tr>
<tr><td>TP1 (+100%,50%)</td><td colspan="3" id="tp1"></td></tr>
<tr><td>TP2 (+300%,25%)</td><td colspan="3" id="tp2"></td></tr>
</tfoot>
</table>
</main>

<script>
if('serviceWorker' in navigator){navigator.serviceWorker.register('sw.js');}

const fmt=(n,d=6)=>(+n).toFixed(d).replace(/\.0+$|0+$/,'');

document.getElementById('go').addEventListener('click',()=>{
  const P=parseFloat(document.getElementById('price').value);
  const A=parseFloat(document.getElementById('alloc').value);
  if(!P||!A){alert('Enter valid numbers');return;}

  // prices
  const p1=P, p2=P*0.5, p3=P*0.25;
  // invests
  const i1=A*0.5, i2=A*0.25, i3=A*0.25;
  // units
  const u1=i1/p1, u2=i2/p2, u3=i3/p3;
  const units=u1+u2+u3;
  const avgVal=A/units;
  const stop=p3*0.8;
  const tp1=avgVal*2;
  const tp2=avgVal*4;

  const stages=[['Init 50%',i1,p1,u1],['-50% 25%',i2,p2,u2],['-75% 25%',i3,p3,u3]];
  document.getElementById('rows').innerHTML=stages.map(r=>
    `<tr><td>${r[0]}</td><td>${fmt(r[1],2)}</td><td>${fmt(r[2])}</td><td>${fmt(r[3],2)}</td></tr>`
  ).join('');
  document.getElementById('out').classList.remove('hidden');

  document.getElementById('tCost').textContent=fmt(A,2);
  document.getElementById('tUnits').textContent=fmt(units,2);
  document.getElementById('avg').textContent=fmt(avgVal);
  document.getElementById('stop').textContent=fmt(stop);
  document.getElementById('tp1').textContent=fmt(tp1);
  document.getElementById('tp2').textContent=fmt(tp2);
});
</script>
</body>
</html>
